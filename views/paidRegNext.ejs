<!DOCTYPE html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <title>De Conquista</title>
    <meta name="robots" content="noindex, follow" />
    <meta name="description" content="" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <!-- Favicon -->
    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="../assets/images/decon-logo.svg"
    />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com/" />
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Big+Shoulders+Display:wght@300;400;500;600;700;800&amp;family=Open+Sans:wght@300;400;500;600;700;800&amp;display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Archivo:wght@300;400;500;600;700&amp;display=swap"
      rel="stylesheet"
    />

    <link
      href="https://use.fontawesome.com/releases/v5.15.4/css/all.css"
      rel="stylesheet"
    />

    <link
      href="https://fonts.googleapis.com/css?family=Roboto:400,500"
      rel="stylesheet"
      type="text/css"
    />

    <!-- CSS ============================================ -->

    <!-- Icon Font CSS -->
    <link rel="stylesheet" href="../assets/css/all.min.css" />
    <link rel="stylesheet" href="../assets/css/flaticon.css" />

    <!-- Plugins CSS -->
    <link rel="stylesheet" href="../assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="../assets/css/swiper-bundle.min.css" />
    <link rel="stylesheet" href="../assets/css/magnific-popup.css" />
    <link rel="stylesheet" href="../assets/css/aos.css" />
    <link rel="stylesheet" href="../assets/css/nice-select.css" />

    <!-- Main Style CSS -->
    <link rel="stylesheet" href="../assets/css/style.css" />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/owl-carousel/1.3.3/owl.carousel.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/owl-carousel/1.3.3/owl.theme.min.css"
    />

    <script
      type="text/javascript"
      src="https://code.jquery.com/jquery-1.12.0.min.js"
    ></script>
    <script
      type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/owl-carousel/1.3.3/owl.carousel.min.js"
    ></script>

    <!-- carousel Style CSS -->
    <link rel="stylesheet" href="../assets/css/css/owl.carousel.min.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/4.5.6/css/ionicons.min.css"
    />
    <link rel="stylesheet" href="../assets/css/css/style.css" />
    <!-- ========== Start header ========== -->
    <%-include("mainHeader.ejs")%>
    <!-- ========== End header ========== -->
  </head>

  <body id="bg-color-purple">
    <div class="main-wrapper">
      <!-- Preloader start -->
      <!-- <div id="preloader">
      <div class="preloader">
        <span></span>
        <span></span>
      </div>
    </div> -->
      <!-- Preloader End -->

      <div class="page_backarrow">
        <a href="/"
          ><i
            ><svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="22"
              viewBox="0 0 19 20"
              fill="none"
            >
              <path
                d="M10.0054 0.265434C10.3271 0.587173 10.3564 1.09064 10.0931 1.44542L10.0054 1.54706L2.18829 9.36458L10.0054 17.1821C10.3271 17.5038 10.3564 18.0073 10.0931 18.3621L10.0054 18.4637C9.68366 18.7855 9.18019 18.8147 8.82541 18.5515L8.72376 18.4637L0.265433 10.0054C-0.0563049 9.68365 -0.0855541 9.18019 0.177686 8.82541L0.265433 8.72376L8.72376 0.265434C9.07768 -0.0884781 9.65148 -0.0884781 10.0054 0.265434Z"
                fill="#FF4A8C"
              /></svg></i
        ></a>
      </div>
      <div class="container">
        <div class="updates-title">
          <h1>Registration</h1>
        </div>

      </div>
      <div>
        <div class="register-table">
          <div class="container">
            <div class="delegate-table-section">
              <div class="register-form">
                <div class="container">
                  <div
                    id="alert-message"
                    class="alert"
                    style="display: none"
                  ></div>

                  <form action="/nextpage" method="post" id="registerForm">
                    <input type="hidden" id="userId" name="userId" value="<%= userId %>">
                    <div class="row">
                      <div id="myModal" class="pay-modal">
                        <div class="pay-modal-content">
                          <span class="pay-close" onclick="closeModal()"
                            >&times;</span
                          >
                          <p id="modalMessage"></p>
                        </div>
                      </div>

                      <div class="container">
                        <div
                          class="updates-title"
                          style="text-align: center;  !important;"
                        >
                          <h3 style="color: white">Payment Details</h3>
                        </div>

                        <div class="register_payment">
                          <img src="/assets/images/GooglePay_QR.png" alt="" />
                        </div>
                        <div class="updates-title">
                          <h6 style="color: white !important">
                            The registration fee for Deconquista International
                            academic conference is Rs.500/-. The registration
                            fee is to be paid online through g pay number
                            7558838799 or UPI id Ibnshameer01@oksbi. Once the
                            payment is done, please ensure that the screenshot
                            is shared through WhatsApp
                            <a
                              href="https://wa.me/+918921193651"
                              style="color: white !important"
                              >https://wa.me/+918921193651</a
                            >
                          </h6>
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="form-group">
                          <label for="paymentStatus">Payment Status</label>
                          <select
                            id="paymentStatus"
                            name="paymentStatus"
                            class="form-control scrollable-dropdown"
                            required
                          >
                            <option value="Have You Paid?" disabled selected>
                              Have You Paid?
                            </option>
                            <option value="yes">Yes</option>
                            <option value="no">No</option>
                          </select>
                        </div>
                      </div>

                      <div
                        class="row"
                        id="transactionDetails"
                        style="display: none"
                      >
                        <div class="col-md-6">
                          <div class="form-group">
                            <label for="transactionId">Transaction Id</label>
                            <input
                              type="text"
                              id="transactionId"
                              name="transactionId"
                              class="form-control"
                            />
                          </div>
                        </div>
                      </div>
                    </div>
                    <div
                      class="row"
                      style="
                        align-items: center;
                        margin-top: 20px;
                        margin-bottom: 30px;
                      "
                    >
                      <div class="col-12 d-flex justify-content-center">
                        <button
                          type="submit"
                          class="btn event-primary"
                          style="border-radius: 20px"
                        >
                          Register
                        </button>
                      </div>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="footer_hide_mobile">
      <!-- ========== Start footer ========== -->
      <%-include("mainFooter.ejs")%>
      <!-- ========== End footer ========== -->
    </div>

    <!-- JS
  ============================================ -->

    <!-- carousel & jQuery JS -->

    <script src=" ../assets/js/js/jquery.min.js"></script>
    <script src="../assets/js/js/owl.carousel.min.js"></script>
    <script src="../assets/js/js/main.js"></script>

    <!-- Modernizer & jQuery JS -->
    <script src="../assets/js/vendor/modernizr-3.11.7.min.js"></script>
    <script src="../assets/js/vendor/jquery-1.12.4.min.js"></script>

    <!-- Bootstrap JS -->
    <script src="../assets/js/popper.min.js"></script>
    <script src="../assets/js/bootstrap.min.js"></script>

    <!-- Plugins JS -->
    <script src="../assets/js/swiper-bundle.min.js"></script>
    <script src="../assets/js/back-to-top.js"></script>
    <script src="../assets/js/jquery.magnific-popup.min.js"></script>
    <script src="../assets/js/jquery.counterup.min.js"></script>
    <script src="../assets/js/waypoints.min.js"></script>
    <script src="../assets/js/aos.js"></script>
    <script src="../assets/js/jquery.nice-select.min.js"></script>
    <!-- Main JS -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script
      type="text/javascript"
      src="node_modules/slick-carousel/slick/slick.min.js"
    ></script>
    <script src="../assets/js/main.js"></script>

    <script>
      $(document).ready(function () {
        $("#registerForm").submit(function (event) {
          event.preventDefault(); // Prevent the default form submission

          // Make an AJAX request to submit the form data
          $.ajax({
            type: "POST",
            url: "/nextpage", // Replace with the actual URL where your form is submitted
            data: $(this).serialize(),
            success: function (response) {
              $("#modalMessage").text(
                "Thankyou!!! Your response submitted successfully"
              );
              // Show the modal
              $("#myModal").show();

              // Automatically hide the modal after 3 seconds
              setTimeout(function () {
                closeModal();
              }, 3000);

              // Clear the form fields
              $("#registerForm")[0].reset();

              // Automatically hide the success message after 3 seconds
              setTimeout(function () {
                $("#myModal").hide();
                // window.location.href =
                //   "/profile?" + response.userDataQueryString;
              }, 1500);
            },
            error: function (error) {
              $("#modalMessage").text(error.responseText);
              // Show the modal
              $("#myModal").show();

              // Automatically hide the error message after 3 seconds
              setTimeout(function () {
                $("#myModal").hide();
              }, 3000);
            },
          });
          function closeModal() {
            $("#myModal").hide();
          }
        });
      });
    </script>
    <script>
      $(document).ready(function () {
        $("#paymentStatus").change(function () {
          var selectedValue = $(this).val();

          if (selectedValue === "yes") {
            $("#transactionDetails").show();
          } else {
            $("#transactionDetails").hide();
          }
        });

        $("#registerForm").submit(function (event) {
          event.preventDefault();

          var paymentStatus = $("#paymentStatus").val();

          // Your existing AJAX code...

          if (paymentStatus === "yes") {
            // Additional handling for paid users
            // For example, show a message or perform additional actions
          }
        });
      });
    </script>
    <script>
      $(document).ready(function () {
        // Function to toggle label and placeholder text based on profession value
        function toggleInstituteText(profession) {
          if (profession === "Student" || profession === "Research Scholar") {
            $("#institute-label").text("Institute");
            $("#institute").attr("placeholder", "Institute");
            $("#course-field").show();
          } else {
            $("#institute-label").text("Place of Work");
            $("#institute").attr("placeholder", "Place of Work");
            $("#course-field").hide();
          }
        }

        // Initial call to set the label and placeholder based on the default selected value
        toggleInstituteText($("#professions").val());

        // Handle profession selection change event
        $("#professions").change(function () {
          var selectedProfession = $(this).val();
          toggleInstituteText(selectedProfession);
        });
      });
    </script>
  </body>
</html>
